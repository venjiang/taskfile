# https://taskfile.dev

version: '3'

output: prefixed
silent: true

tasks:
  all:
    desc: install all tools
    deps: [zoxide,ranger-zoxide,bottom]
    cmds:
      - echo 'install all tools done.'

  basic:
    desc: install basic tools
    deps: [zoxide,ranger-zoxide,bottom]
    cmds:
      - echo 'install basic tools done.'

  brew-cn:
    desc: change brew source to China
    cmds:
      - cd "$(brew --repo)"
      - git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
      - cd "$(brew --repo)/Library/Taps/homebrew/homebrew-core"
      - git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
      - echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' >> ~/.zshrc
      - source ~/.zshrc

  zoxide:
    desc: A smarter cd command. Supports all major shells
    summary: |
        zoxide is a blazing fast replacement for your cd command, inspired by z and z.lua. It keeps track of the directories you use most frequently, and uses a ranking algorithm to navigate to the best match.A new way to see and navigate directory trees
        https://github.com/ajeetdsouza/zoxide
        Add this to your configuration (usually ~/.zshrc)
        eval "$(zoxide init zsh)"
    cmds:
      - brew install zoxide

  ranger-zoxide:
    desc: Easily jump between common directories in ranger
    summary: |
        Easily jump between commonly visited directories by running this in ranger
        https://github.com/jchook/ranger-zoxide
        You may wish to add a keyboard shortcut to quickly z between common directories. Simply add a binding to your ~/.config/ranger/rc.conf file
        map cz console z%space
    cmds:
      - git clone git@github.com:jchook/ranger-zoxide.git ~/.config/ranger/plugins/zoxide

  bottom:
    desc: Yet another cross-platform graphical process/system monitor
    summary: |
        A cross-platform graphical process/system monitor with a customizable interface and a multitude of features. Supports Linux, macOS, and Windows. Inspired by gtop, gotop, and htop
        https://github.com/ClementTsang/bottom
        run bottom using btm
    cmds:
      - brew install bottom

  gitui:
    desc: Blazing ðŸ’¥ fast terminal-ui for git written in rust ðŸ¦€
    summary: |
        GitUI provides you with the comfort of a git GUI but right in your terminal
        https://github.com/extrawurst/gitui
    cmds:
      - brew install gitui

  usql:
    desc: Universal command-line interface for SQL databases
    summary: |
        usql is a universal command-line interface for PostgreSQL, MySQL, Oracle Database, SQLite3, Microsoft SQL Server, and many other databases including NoSQL and non-relational databases!
        https://github.com/xo/usql
    cmds:
      - brew install xo/xo/usql


